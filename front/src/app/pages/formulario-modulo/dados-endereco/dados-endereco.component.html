<form [formGroup]="formulario">
  <mat-card-content>
    <mat-card-subtitle>
      <mat-icon class="icone-subtitulo">location_on</mat-icon>
      Dados de Endereço
    </mat-card-subtitle>

    <mat-form-field appearance="fill">
      <mat-label>CEP</mat-label>
      <input
        type="text"
        matInput
        formControlName="cep"
        [matAutocomplete]="auto"
        (input)="buscarEnderecoPorCep(formulario.get('cep')?.value)"
        maxlength="9"
      />
      <mat-icon matPrefix>pin_drop</mat-icon>
      <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
        @for (endereco of listaEnderecos; track endereco.cep) {
        <mat-option [value]="endereco.cep">
          {{ endereco.cep }}
        </mat-option>
        }
      </mat-autocomplete>
      <mat-error
        ><exibir-erro [campo]="formulario.get('cep')"></exibir-erro
      ></mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Tipo Logradouro</mat-label>
      <input matInput formControlName="tipoLogradouro" />
      <mat-icon matPrefix>streetview</mat-icon>
      <mat-error
        ><exibir-erro [campo]="formulario.get('tipoLogradouro')"></exibir-erro
      ></mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Logradouro</mat-label>
      <input matInput formControlName="logradouro" />
      <mat-icon matPrefix>streetview</mat-icon>
      <mat-error
        ><exibir-erro [campo]="formulario.get('logradouro')"></exibir-erro
      ></mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Número</mat-label>
      <input matInput formControlName="numero" />
      <mat-icon matPrefix>home</mat-icon>
      <mat-error
        ><exibir-erro [campo]="formulario.get('numero')"></exibir-erro
      ></mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Complemento</mat-label>
      <input matInput formControlName="complemento" />
      <mat-icon matPrefix>add_location</mat-icon>
      <mat-error
        ><exibir-erro [campo]="formulario.get('complemento')"></exibir-erro
      ></mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Bairro</mat-label>
      <input matInput formControlName="bairro" />
      <mat-icon matPrefix>location_city</mat-icon>
      <mat-error
        ><exibir-erro [campo]="formulario.get('bairro')"></exibir-erro
      ></mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Cidade</mat-label>
      <input matInput formControlName="cidade" />
      <mat-icon matPrefix>business</mat-icon>
      <mat-error
        ><exibir-erro [campo]="formulario.get('cidade')"></exibir-erro
      ></mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Estado</mat-label>
      <input matInput formControlName="estado" />
      <mat-icon matPrefix>map</mat-icon>
      <mat-error
        ><exibir-erro [campo]="formulario.get('estado')"></exibir-erro
      ></mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>País</mat-label>
      <input matInput formControlName="pais" />
      <mat-icon matPrefix>flag</mat-icon>
      <mat-error
        ><exibir-erro [campo]="formulario.get('pais')"></exibir-erro
      ></mat-error>
    </mat-form-field>
  </mat-card-content>
</form>
